#!/usr/bin/env bash

# Get current layout
CURRENT_LAYOUT=$(hyprctl -j getoption general:layout | jq -r '.str')
# Get current Master orientation (left, right, top, bottom)
CURRENT_ORIENTATION=$(hyprctl -j getoption master:orientation | jq -r '.str')

if [ "$CURRENT_LAYOUT" == "dwindle" ]; then
    # Switch to Master (Tall equivalent)
    hyprctl keyword general:layout "master"
    hyprctl keyword master:orientation "left"
    notify-send "Layout: Tall (Master)"

elif [ "$CURRENT_LAYOUT" == "master" ] && [ "$CURRENT_ORIENTATION" == "left" ]; then
    # Switch to Wide (Master with stack on bottom)
    hyprctl keyword master:orientation "top"
    notify-send "Layout: Wide (Master)"

elif [ "$CURRENT_LAYOUT" == "master" ] && [ "$CURRENT_ORIENTATION" == "top" ]; then
    # Switch to Dwindle (Spiral/Grid equivalent)
    hyprctl keyword general:layout "dwindle"
    notify-send "Layout: Spiral (Dwindle)"
else
    # Fallback default
    hyprctl keyword general:layout "dwindle"
fi
